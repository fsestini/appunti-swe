\section{Progettazione software}

Per perseguire la correttezza per costruzione, si progetta \strong{prima}
di produrre.

È necessario progettare per

\begin{itemize}
  \item governare la complessità del prodotto
  \item organizzare e ripartire le responsabilità di realizzazione
  \item produrre in economia (efficienza) e garantire controllo di qualità
        (efficacia)
\end{itemize}

Mentre l'analisi segue un processo \strong{investigativo}, la progettazione
segue un approccio \strong{sintetico} nel quale da vincoli, obbiettivi e
requisiti si ricava una soluzione soddisfacente per tutti gli
\foreignword{stakeholder}.

%TODO: da verificare
%La progettazione architetturale è il primo \foreignord{stage} nel processo di
%progettazione software.

\subsection{Architettura software}

L'attività di progettazione fissa l'\strong{architettura} software del prodotto,
definita come

\begin{itemize}
  \item decomposizione del sistema in componenti; prima visione logica
        (concettuale), poi di dettaglio (realizzativa)
  \item organizzazione dei diversi componenti, che ne definisce ruoli,
        responsabilità e interazioni
  \item interfaccie necessarie all'interazione tra le componenti, tra loro e con
        l'ambiente
  \item paradigmi di composizione delle componenti, come definizione di regole,
        criteri, limiti e vincoli
\end{itemize}

% TODO espandere
L'architettura software è importante perchè influisce sulle caratteristiche non
funzionali del sistema (mantenibilità, \foreignword{performance}, ecc.)

Una buona architettura facilita il successo del prodotto software:

\begin{itemize}
  \item impiega componenti con specifica chiara e coesa
  \item realizzabili con risorse date e costi fissati
  \item ha una struttura che facilita eventuali cambiamenti futuri
\end{itemize}

\subsubsection{Perchè l'architettura è importante}

\begin{itemize}
  \item L'architettura impone vincoli sull'implementazione;
  \item L'architettura detta la struttura organizzativa: poichè l'architettura
    decompone il sistema al livello di astrazione più alto, tipicamente
    costituisce la base per il \foreignword{work breakdown structure};
  \item Lo studio dell'architettura fornisce una descrizione della qualità del
    sistema;
  \item Le architetture sono modelli trasferibili e riusabili;

\subsubsection{Qualità architetturali}

Le seguenti qualità sono da ricercare in un'architettura software:

\begin{itemize}
  \item Sufficienza: capacità di soddisfare tutti i requisiti
  \item Comprensibilità: comprensibile agli \foreignword{stakeholder}
  \item Modularità: suddivisione in parti chiare e distinte
  \item Robustezza: capacità di sopportare ingressi diversi (corretti, errati,
        tanti, pochi), dall'utente e dall'ambiente
  \item Flessibilità: permette modifiche a costo contenuto al variare dei
        requisiti
  \item Riusabilità: le sue parti possono essere utilmente impiegate in altre
        applicazioni
  \item Efficienza
  \item Affidabilità: funziona bene quando utilizzata
  \item Disponibilità: necessita di tempo ridotto o nullo per manutenzione fuori
        linea
  \item Sicurezza rispetto alle intrusioni (\foreignword{security})
  \item Sicurezza rispetto a malfunzionamenti (\foreignword{safety})
  \item Semplicità: ogni parte contiene il necessario e nulla di superfluo
    \begin{itemize}
      \item Principio del `rasoio di Occam'
    \end{itemize}
  \item Incapsulazione (\foreignword{information hiding})
    \begin{itemize}
      \item diminuisce l'accoppiamento
      \item cresce la manutenibilità
      \item aumentano le opportunità di riuso
    \end{itemize}
  \item Coesione: le parti che stanno insieme hanno gli stessi obiettivi
    \begin{itemize}
      \item funzionalità simili devono stare nella stessa componente
      \item pone un limite inferiore alla decomposizione
      \item migliora il disaccoppiamento e la comprensiblità del sistema
    \end{itemize}
  \item Basso accoppiamento
\end{itemize}

\paragraph{Accoppiamento}

L'accoppiamento è una proprietà esterna dei componenti che indica quanto essi si
usano tra loro. Vi sono due metriche utili alla misurazione dell'accoppiamento:

\begin{itemize}
  \item \foreignword{Structural \strong{fan-in}}: quanto il componente è
        utilizzato. È indice di utilità e va \strong{massimizzato};
  \item \foreignword{Structural \strong{fan-out}}: quando il componente
        dipende da altre componenti. È indice di dipendenza e va
        \strong{minimizzato}.
\end{itemize}

Una buona progettazione presenta componenti con \emph{fan-in} elevato e
\emph{fan-out} basso.

\subsubsection{Decomposizione architetturale}

La decomposizione dell'architettura può seguire due approcci:

\begin{itemize}
  \item Top-down: decomposizione di problemi in sotto-problemi
  \item Bottom-up: composizione di soluzioni da basso, stile \foreignword{object
        oriented}
\end{itemize}

Solitamente si segue un approccio intermedio.
